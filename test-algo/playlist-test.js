const playlistDB_filled = {
    "playlist-1": [
        {
            "title": "Midnight Drive",
            "artist_name": "Luna Vibes",
            "coverArt": "https://example.com/art/midnight-drive.jpg",
            "album": "Neon Nights",
            "track_number": 1
        },
        {
            "title": "City Glow",
            "artist_name": "Echo Mirage",
            "coverArt": "https://example.com/art/city-glow.jpg",
            "album": "Urban Dream",
            "track_number": 2
        },
        {
            "title": "Faded Lines",
            "artist_name": "Noir Sky",
            "coverArt": "https://example.com/art/faded-lines.jpg",
            "album": "Shadowplay",
            "track_number": 3
        },
        {
            "title": "Electric Rain",
            "artist_name": "AeroPulse",
            "coverArt": "https://example.com/art/electric-rain.jpg",
            "album": "Digital Storm",
            "track_number": 4
        },
        {
            "title": "Golden Hours",
            "artist_name": "Nova Lane",
            "coverArt": "https://example.com/art/golden-hours.jpg",
            "album": "Horizons",
            "track_number": 5
        }
    ],
    "playlist-2": [
        {
            "title": "Lost in Motion",
            "artist_name": "Kai Dreamer",
            "coverArt": "https://example.com/art/lost-in-motion.jpg",
            "album": "Wanderlust",
            "track_number": 1
        },
        {
            "title": "Sunset Bloom",
            "artist_name": "Ella Sol",
            "coverArt": "https://example.com/art/sunset-bloom.jpg",
            "album": "Radiance",
            "track_number": 2
        },
        {
            "title": "Cloud Parade",
            "artist_name": "Skyline Waves",
            "coverArt": "https://example.com/art/cloud-parade.jpg",
            "album": "High Spirits",
            "track_number": 3
        },
        {
            "title": "Falling Through Stars",
            "artist_name": "Orbit Echo",
            "coverArt": "https://example.com/art/falling-through-stars.jpg",
            "album": "Zero Gravity",
            "track_number": 4
        },
        {
            "title": "Morning Tide",
            "artist_name": "Coastline Crew",
            "coverArt": "https://example.com/art/morning-tide.jpg",
            "album": "Waveform",
            "track_number": 5
        }
    ],
    "playlist-3": [
        {
            "title": "Skyline Dreams",
            "artist_name": "Lofi Avenue",
            "coverArt": "https://example.com/art/skyline-dreams.jpg",
            "album": "Calm City",
            "track_number": 1
        },
        {
            "title": "Raindrop Reverie",
            "artist_name": "Milo Beats",
            "coverArt": "https://example.com/art/raindrop-reverie.jpg",
            "album": "Soft Storms",
            "track_number": 2
        },
        {
            "title": "Caffeine Flow",
            "artist_name": "Tokyo Sleepwalk",
            "coverArt": "https://example.com/art/caffeine-flow.jpg",
            "album": "Late Hours",
            "track_number": 3
        },
        {
            "title": "Streetlight Soul",
            "artist_name": "LoNoir",
            "coverArt": "https://example.com/art/streetlight-soul.jpg",
            "album": "Soul Brew",
            "track_number": 4
        },
        {
            "title": "Cherry Mist",
            "artist_name": "Karma Bloom",
            "coverArt": "https://example.com/art/cherry-mist.jpg",
            "album": "Velvet Evenings",
            "track_number": 5
        }
    ],
    "playlist-4": [
        {
            "title": "Into the Wild",
            "artist_name": "Rogue North",
            "coverArt": "https://example.com/art/into-the-wild.jpg",
            "album": "Untamed Roads",
            "track_number": 1
        },
        {
            "title": "Trail of Echoes",
            "artist_name": "The Compass",
            "coverArt": "https://example.com/art/trail-of-echoes.jpg",
            "album": "Nomad",
            "track_number": 2
        },
        {
            "title": "Canyon Hearts",
            "artist_name": "Dustline",
            "coverArt": "https://example.com/art/canyon-hearts.jpg",
            "album": "Desert Bloom",
            "track_number": 3
        },
        {
            "title": "Endless Horizon",
            "artist_name": "Vista Waves",
            "coverArt": "https://example.com/art/endless-horizon.jpg",
            "album": "Wide Open",
            "track_number": 4
        },
        {
            "title": "Whispering Pines",
            "artist_name": "Echo Valley",
            "coverArt": "https://example.com/art/whispering-pines.jpg",
            "album": "Nature Calls",
            "track_number": 5
        }
    ],
    "playlist-5": [
        {
            "title": "Crimson Shadows",
            "artist_name": "Velvet Tone",
            "coverArt": "https://example.com/art/crimson-shadows.jpg",
            "album": "Dark Light",
            "track_number": 1
        },
        {
            "title": "Glass Hearts",
            "artist_name": "The Emberline",
            "coverArt": "https://example.com/art/glass-hearts.jpg",
            "album": "Fire Within",
            "track_number": 2
        },
        {
            "title": "Lunaâ€™s Veil",
            "artist_name": "Moontrail",
            "coverArt": "https://example.com/art/lunas-veil.jpg",
            "album": "Night Tides",
            "track_number": 3
        },
        {
            "title": "Dream Static",
            "artist_name": "Astral Bloom",
            "coverArt": "https://example.com/art/dream-static.jpg",
            "album": "Cosmic Drift",
            "track_number": 4
        },
        {
            "title": "Silver Thread",
            "artist_name": "Nora Shade",
            "coverArt": "https://example.com/art/silver-thread.jpg",
            "album": "Twilight Bloom",
            "track_number": 5
        }
    ],
    "playlist-6": [
        {
            "title": "Moonset Mirage",
            "artist_name": "Solar Bloom",
            "coverArt": "https://example.com/art/moonset-mirage.jpg",
            "album": "Orbit Dreams",
            "track_number": 1
        },
        {
            "title": "Parallel Hearts",
            "artist_name": "Vibe District",
            "coverArt": "https://example.com/art/parallel-hearts.jpg",
            "album": "Echo Love",
            "track_number": 2
        },
        {
            "title": "Lost Signal",
            "artist_name": "Neon River",
            "coverArt": "https://example.com/art/lost-signal.jpg",
            "album": "Midnight Code",
            "track_number": 3
        },
        {
            "title": "Synthetic Calm",
            "artist_name": "Pulse Theory",
            "coverArt": "https://example.com/art/synthetic-calm.jpg",
            "album": "Binary Soul",
            "track_number": 4
        },
        {
            "title": "Static Dreams",
            "artist_name": "LoPhonic",
            "coverArt": "https://example.com/art/static-dreams.jpg",
            "album": "Afterglow",
            "track_number": 5
        }
    ],
    "playlist-7": [
        {
            "title": "Morning Dew",
            "artist_name": "Serene Bloom",
            "coverArt": "https://example.com/art/morning-dew.jpg",
            "album": "Fresh Start",
            "track_number": 1
        },
        {
            "title": "Daylight",
            "artist_name": "Theo Blue",
            "coverArt": "https://example.com/art/daylight.jpg",
            "album": "Awakening",
            "track_number": 2
        },
        {
            "title": "Ocean Calm",
            "artist_name": "Coastal Echoes",
            "coverArt": "https://example.com/art/ocean-calm.jpg",
            "album": "Wavescape",
            "track_number": 3
        },
        {
            "title": "Ethereal Skies",
            "artist_name": "Marlo Drift",
            "coverArt": "https://example.com/art/ethereal-skies.jpg",
            "album": "Beyond Clouds",
            "track_number": 4
        },
        {
            "title": "Soft Haze",
            "artist_name": "Lofi Horizon",
            "coverArt": "https://example.com/art/soft-haze.jpg",
            "album": "Quiet Light",
            "track_number": 5
        }
    ],
    "playlist-8": [
        {
            "title": "Cyber Love",
            "artist_name": "Data Kiss",
            "coverArt": "https://example.com/art/cyber-love.jpg",
            "album": "Digital Hearts",
            "track_number": 1
        },
        {
            "title": "Neon River",
            "artist_name": "Flux Flow",
            "coverArt": "https://example.com/art/neon-river.jpg",
            "album": "Electric Avenue",
            "track_number": 2
        },
        {
            "title": "Pixel Rain",
            "artist_name": "Syntrix",
            "coverArt": "https://example.com/art/pixel-rain.jpg",
            "album": "Code Blue",
            "track_number": 3
        },
        {
            "title": "Virtual Flame",
            "artist_name": "Byte Theory",
            "coverArt": "https://example.com/art/virtual-flame.jpg",
            "album": "Mainframe Love",
            "track_number": 4
        },
        {
            "title": "Signal Fade",
            "artist_name": "Echo Core",
            "coverArt": "https://example.com/art/signal-fade.jpg",
            "album": "Pulsewave",
            "track_number": 5
        }
    ],
    "playlist-9": [
        {
            "title": "Soul Drift",
            "artist_name": "Ava Noir",
            "coverArt": "https://example.com/art/soul-drift.jpg",
            "album": "Deep Flow",
            "track_number": 1
        },
        {
            "title": "Whisper Me Home",
            "artist_name": "The Lightfall",
            "coverArt": "https://example.com/art/whisper-me-home.jpg",
            "album": "Echo Trails",
            "track_number": 2
        },
        {
            "title": "Running Lines",
            "artist_name": "Nate Shore",
            "coverArt": "https://example.com/art/running-lines.jpg",
            "album": "Steady Waves",
            "track_number": 3
        },
        {
            "title": "Misty Roads",
            "artist_name": "Elara Grey",
            "coverArt": "https://example.com/art/misty-roads.jpg",
            "album": "Quiet Nights",
            "track_number": 4
        },
        {
            "title": "Velvet Sky",
            "artist_name": "Echo Haven",
            "coverArt": "https://example.com/art/velvet-sky.jpg",
            "album": "Glow Motion",
            "track_number": 5
        }
    ],
    "playlist-10": [
        {
            "title": "Firelight",
            "artist_name": "Arden Vox",
            "coverArt": "https://example.com/art/firelight.jpg",
            "album": "Ignite",
            "track_number": 1
        },
        {
            "title": "Wild Heart",
            "artist_name": "Rhea Storm",
            "coverArt": "https://example.com/art/wild-heart.jpg",
            "album": "Chasing Sky",
            "track_number": 2
        },
        {
            "title": "Final Glow",
            "artist_name": "Leo Wave",
            "coverArt": "https://example.com/art/final-glow.jpg",
            "album": "Momentum",
            "track_number": 3
        },
        {
            "title": "Glass Moon",
            "artist_name": "Aero Lily",
            "coverArt": "https://example.com/art/glass-moon.jpg",
            "album": "Starlight Veins",
            "track_number": 4
        },
        {
            "title": "Electric Dust",
            "artist_name": "Hyper Bloom",
            "coverArt": "https://example.com/art/electric-dust.jpg",
            "album": "Voltage",
            "track_number": 5
        }
    ]
};

const mockSongs = [
    {
        "title": "Ocean Eyes",
        "artist_name": "Luna Wave",
        "coverArt": "https://example.com/art/ocean-eyes.jpg",
        "album": "Tidal Dreams",
        "track_number": 1
    },
    {
        "title": "Electric Sunset",
        "artist_name": "Vibe City",
        "coverArt": "https://example.com/art/electric-sunset.jpg",
        "album": "Neon Horizon",
        "track_number": 2
    },
    {
        "title": "Golden Mirage",
        "artist_name": "Aria Bloom",
        "coverArt": "https://example.com/art/golden-mirage.jpg",
        "album": "Desert Lights",
        "track_number": 3
    },
    {
        "title": "Midnight Echo",
        "artist_name": "Echo Vega",
        "coverArt": "https://example.com/art/midnight-echo.jpg",
        "album": "After Dark",
        "track_number": 4
    },
    {
        "title": "Waves of You",
        "artist_name": "Nova Shore",
        "coverArt": "https://example.com/art/waves-of-you.jpg",
        "album": "Deep Blue",
        "track_number": 5
    }
];

const playlistDB_empty = {}

const createPlaylist = (playlistName, currentSong) => {
    if (!(playlistName in playlistDB_filled)) {
        playlistDB_filled[playlistName] = []
    }

    if (currentSong) {
        playlistDB_filled[playlistName]?.unshift(currentSong)
    }

    return playlistDB_filled[playlistName]
}

const readPlaylistsNames = () => {
    if (playlistDB_filled === null || Object.keys(playlistDB_filled).length === 0)
        return []

    return Object.keys(playlistDB_filled)
}

const readSelectedPlaylist = (playlistName) => {
    const playlistNames = readPlaylistsNames()
    if (!playlistNames.length || !playlistDB_filled || !Object.keys(playlistDB_filled).length)
        return []

    if (!playlistName) return playlistNames
    if (!(playlistName in playlistDB_filled))
        return []

    return playlistDB_filled[playlistName]
}

const deletSelectedPlaylist = (playlistName) => {
    if (!playlistName) return []
    if (!(playlistName in playlistDB_filled))
        return { ...playlistDB_filled }
    const updated = { ...playlistDB_filled }
    delete updated[playlistName]
    return updated
}

const removeSongFromPlaylist = (playlistName, currentSong) => {
    if (!playlistName || !currentSong) return {}
    const selectedPlaylist = playlistDB_filled[playlistName] 
    if (!selectedPlaylist) return []

    const selectedSongIndex = selectedPlaylist?.findIndex(
        song => song.title === currentSong
    )
    if (selectedSongIndex === -1) return []

    selectedPlaylist.splice(selectedSongIndex, 1)
    return playlistDB_filled
}

// ------------------ Create & Update -----------------------------
// console.log(createPlaylist("playlist-12", mockSongs[0]))
// console.log(createPlaylist("playlist-9", mockSongs[1]))

// ------------------ Read -----------------------------
// console.log(readPlaylistsNames())

// ------------------ Read -----------------------------
// console.log(readSelectedPlaylist("playlist-1"))

// ------------------ Delete -----------------------------
// console.log(deletSelectedPlaylist("playlist-1"))

// ------------------ Delete -----------------------------
// console.log(removeSongFromPlaylist("playlist-1", "City Glow")["playlist-1"])
